# AI SDK å¿«é€Ÿä¸Šæ‰‹æŒ‡å— ğŸš€

> **ç›®æ ‡**: 15åˆ†é’Ÿå†…ä»é›¶åˆ°æ„å»ºç¬¬ä¸€ä¸ªAIåº”ç”¨
> **é€‚åˆäººç¾¤**: æœ‰åŸºç¡€JavaScript/TypeScriptç»éªŒçš„å‰ç«¯å¼€å‘è€…
> **éš¾åº¦**: â­â­â˜†â˜†â˜† (åˆçº§)

---

## ğŸ¯ å‡†å¤‡å·¥ä½œ

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- åŸºç¡€çš„React/Next.jsçŸ¥è¯†
- ä»»ä½•AIæä¾›å•†çš„API Keyï¼ˆæ¨èOpenAIï¼‰

### å‡†å¤‡API Key
1. **OpenAI**: https://platform.openai.com/api-keys
2. **Anthropic**: https://console.anthropic.com/
3. **Google AI**: https://makersuite.google.com/app/apikey

---

## âš¡ å¿«é€Ÿå¼€å§‹ï¼ˆ3åˆ†é’Ÿï¼‰

### 1. åˆ›å»ºé¡¹ç›®
```bash
# åˆ›å»ºNext.jsé¡¹ç›®ï¼ˆæ¨èï¼‰
npx create-next-app@latest my-ai-app --typescript
cd my-ai-app

# æˆ–åˆ›å»ºåŸºç¡€Reacté¡¹ç›®
npx create-react-app my-ai-app --template typescript
cd my-ai-app
```

### 2. å®‰è£…ä¾èµ–
```bash
# åŸºç¡€ä¾èµ–
npm install ai @ai-sdk/react @ai-sdk/openai

# å¦‚æœéœ€è¦MCPå·¥å…·æ”¯æŒï¼Œè¿˜éœ€å®‰è£…ï¼š
npm install @modelcontextprotocol/sdk zod
```

### 3. é…ç½®ç¯å¢ƒå˜é‡
```bash
# åˆ›å»º.env.localæ–‡ä»¶
echo "OPENAI_API_KEY=your_actual_key_here" > .env.local
```

---

## ğŸª ç¬¬ä¸€ä¸ªAIåŠŸèƒ½ï¼šæ–‡æœ¬ç”Ÿæˆï¼ˆ5åˆ†é’Ÿï¼‰

### åŸºç¡€æ–‡æœ¬ç”Ÿæˆ
```tsx
// app/page.tsx (Next.js) æˆ– src/App.tsx (React)
import { useState } from 'react';
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

export default function Home() {
  const [prompt, setPrompt] = useState('');
  const [result, setResult] = useState('');
  const [loading, setLoading] = useState(false);

  const generateAnswer = async () => {
    setLoading(true);
    try {
      const { text } = await generateText({
        model: openai('gpt-4o-mini'),
        prompt: prompt,
        maxTokens: 200,
      });
      setResult(text);
    } catch (error) {
      setResult('å‡ºé”™äº†ï¼š' + error.message);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div style={{ padding: '20px', maxWidth: '600px', margin: '0 auto' }}>
      <h1>AI æ–‡æœ¬ç”Ÿæˆå™¨</h1>
      <textarea
        value={prompt}
        onChange={(e) => setPrompt(e.target.value)}
        placeholder="è¾“å…¥ä½ çš„é—®é¢˜..."
        style={{ width: '100%', height: '100px', marginBottom: '10px' }}
      />
      <button onClick={generateAnswer} disabled={loading || !prompt}>
        {loading ? 'ç”Ÿæˆä¸­...' : 'ç”Ÿæˆå›ç­”'}
      </button>
      {result && (
        <div style={{
          marginTop: '20px',
          padding: '15px',
          backgroundColor: '#f5f5f5',
          borderRadius: '8px'
        }}>
          <h3>AIå›ç­”ï¼š</h3>
          <p>{result}</p>
        </div>
      )}
    </div>
  );
}
```

è¿è¡Œé¡¹ç›®ï¼š
```bash
npm run dev
```
è®¿é—® http://localhost:3000ï¼Œä½ å°±æœ‰äº†ä¸€ä¸ªèƒ½å·¥ä½œçš„AIæ–‡æœ¬ç”Ÿæˆå™¨ï¼

---

## ğŸ’¬ å‡çº§åŠŸèƒ½ï¼šèŠå¤©æœºå™¨äººï¼ˆ7åˆ†é’Ÿï¼‰

### ä½¿ç”¨AI SDKçš„useChat hook
```tsx
// app/chat/page.tsx
'use client';

import { useChat } from '@ai-sdk/react';
import { Button } from '@/components/ui/button'; // å¯é€‰ï¼šä½¿ç”¨shadcn/ui

export default function ChatPage() {
  const { messages, input, handleInputChange, handleSubmit, isLoading } = useChat({
    api: '/api/chat', // åˆ›å»ºè¿™ä¸ªAPIç«¯ç‚¹
  });

  return (
    <div style={{ display: 'flex', flexDirection: 'column', height: '100vh' }}>
      <div style={{ flex: 1, overflow: 'auto', padding: '20px' }}>
        {messages.map(message => (
          <div
            key={message.id}
            style={{
              marginBottom: '15px',
              display: 'flex',
              justifyContent: message.role === 'user' ? 'flex-end' : 'flex-start'
            }}
          >
            <div
              style={{
                maxWidth: '70%',
                padding: '10px 15px',
                borderRadius: '18px',
                backgroundColor: message.role === 'user' ? '#007bff' : '#f1f3f4',
                color: message.role === 'user' ? 'white' : 'black'
              }}
            >
              {message.content}
            </div>
          </div>
        ))}
        {isLoading && (
          <div style={{ padding: '10px', color: '#666' }}>
            AIæ­£åœ¨æ€è€ƒ...
          </div>
        )}
      </div>

      <form onSubmit={handleSubmit} style={{ padding: '20px', borderTop: '1px solid #eee' }}>
        <div style={{ display: 'flex', gap: '10px' }}>
          <input
            value={input}
            onChange={handleInputChange}
            placeholder="è¾“å…¥æ¶ˆæ¯..."
            style={{
              flex: 1,
              padding: '12px',
              border: '1px solid #ddd',
              borderRadius: '24px',
              outline: 'none'
            }}
            disabled={isLoading}
          />
          <button
            type="submit"
            disabled={isLoading || !input}
            style={{
              padding: '12px 20px',
              backgroundColor: '#007bff',
              color: 'white',
              border: 'none',
              borderRadius: '24px',
              cursor: 'pointer'
            }}
          >
            å‘é€
          </button>
        </div>
      </form>
    </div>
  );
}
```

### åˆ›å»ºAPIç«¯ç‚¹
```ts
// app/api/chat/route.ts
import { openai } from '@ai-sdk/openai';
import { streamText } from 'ai';

export async function POST(req: Request) {
  const { messages } = await req.json();

  const result = await streamText({
    model: openai('gpt-4o-mini'),
    messages,
  });

  return result.toDataStreamResponse();
}
```

---

## ğŸ› ï¸ è¿›é˜¶åŠŸèƒ½ï¼šç»“æ„åŒ–æ•°æ®ç”Ÿæˆï¼ˆ10åˆ†é’Ÿï¼‰

### æ™ºèƒ½è¡¨å•å¡«å……
```tsx
// app/form/page.tsx
'use client';

import { useState } from 'react';
import { generateObject } from 'ai';
import { openai } from '@ai-sdk/openai';
import { z } from 'zod';

export default function SmartForm() {
  const [userInput, setUserInput] = useState('');
  const [formData, setFormData] = useState(null);
  const [loading, setLoading] = useState(false);

  const extractInfo = async () => {
    setLoading(true);
    try {
      const { object } = await generateObject({
        model: openai('gpt-4o-mini'),
        prompt: `ä»ä»¥ä¸‹æ–‡æœ¬ä¸­æå–ä¸ªäººä¿¡æ¯ï¼š${userInput}`,
        schema: z.object({
          name: z.string().describe('å§“å'),
          email: z.string().email().describe('é‚®ç®±åœ°å€'),
          age: z.number().optional().describe('å¹´é¾„'),
          phone: z.string().optional().describe('ç”µè¯å·ç '),
          interests: z.array(z.string()).describe('å…´è¶£çˆ±å¥½'),
        }),
      });
      setFormData(object);
    } catch (error) {
      alert('æå–å¤±è´¥ï¼š' + error.message);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div style={{ padding: '20px', maxWidth: '600px', margin: '0 auto' }}>
      <h1>æ™ºèƒ½ä¿¡æ¯æå–</h1>

      <div style={{ marginBottom: '20px' }}>
        <h3>è¾“å…¥ä¸€æ®µåŒ…å«ä¸ªäººä¿¡æ¯çš„è¯ï¼š</h3>
        <textarea
          value={userInput}
          onChange={(e) => setUserInput(e.target.value)}
          placeholder="ä¾‹å¦‚ï¼šæˆ‘æ˜¯å¼ ä¸‰ï¼Œ25å²ï¼Œé‚®ç®±æ˜¯zhangsan@email.comï¼Œå–œæ¬¢ç¼–ç¨‹å’Œæ—…æ¸¸"
          style={{ width: '100%', height: '100px', marginTop: '10px' }}
        />
        <button
          onClick={extractInfo}
          disabled={loading || !userInput}
          style={{ marginTop: '10px', padding: '10px 20px' }}
        >
          {loading ? 'æå–ä¸­...' : 'æå–ä¿¡æ¯'}
        </button>
      </div>

      {formData && (
        <div style={{
          padding: '20px',
          backgroundColor: '#f8f9fa',
          borderRadius: '8px'
        }}>
          <h3>æå–ç»“æœï¼š</h3>
          <div style={{ display: 'grid', gap: '10px' }}>
            <div><strong>å§“åï¼š</strong> {formData.name}</div>
            <div><strong>é‚®ç®±ï¼š</strong> {formData.email}</div>
            {formData.age && <div><strong>å¹´é¾„ï¼š</strong> {formData.age}</div>}
            {formData.phone && <div><strong>ç”µè¯ï¼š</strong> {formData.phone}</div>
            {formData.interests.length > 0 && (
              <div><strong>å…´è¶£ï¼š</strong> {formData.interests.join(', ')}</div>
            )}
          </div>
        </div>
      )}
    </div>
  );
}
```

---

## ğŸ¨ é«˜çº§åŠŸèƒ½ï¼šAIå·¥å…·è°ƒç”¨ï¼ˆ12åˆ†é’Ÿï¼‰

### ç»™AIæ·»åŠ "è¶…èƒ½åŠ›" - è®©AIè°ƒç”¨å¤–éƒ¨å·¥å…·
```tsx
// app/weather/page.tsx
'use client';

import { useState } from 'react';
import { generateText, tool } from 'ai';
import { openai } from '@ai-sdk/openai';
import { z } from 'zod';

// æ¨¡æ‹Ÿçš„å·¥å…·å‡½æ•°
const weatherTool = tool({
  description: 'è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯',
  parameters: z.object({
    city: z.string().describe('åŸå¸‚åç§°'),
  }),
  execute: async ({ city }) => {
    // æ¨¡æ‹Ÿå¤©æ°”APIè°ƒç”¨
    const weatherData = {
      'åŒ—äº¬': { temp: 25, condition: 'æ™´å¤©', humidity: 40 },
      'ä¸Šæµ·': { temp: 22, condition: 'å¤šäº‘', humidity: 65 },
      'å¹¿å·': { temp: 28, condition: 'å°é›¨', humidity: 80 },
    };

    const weather = weatherData[city] || { temp: 20, condition: 'æœªçŸ¥', humidity: 50 };

    return {
      city,
      temperature: weather.temp,
      condition: weather.condition,
      humidity: weather.humidity,
    };
  },
});

const timeTool = tool({
  description: 'è·å–å½“å‰æ—¶é—´',
  parameters: z.object({}).optional(),
  execute: async () => {
    return {
      currentTime: new Date().toLocaleString('zh-CN'),
      timestamp: Date.now(),
    };
  },
});

export default function WeatherAssistant() {
  const [query, setQuery] = useState('');
  const [response, setResponse] = useState('');
  const [loading, setLoading] = useState(false);
  const [toolCalls, setToolCalls] = useState([]);

  const askAI = async () => {
    setLoading(true);
    setToolCalls([]);

    try {
      const { text, toolCalls } = await generateText({
        model: openai('gpt-4o-mini'),
        prompt: query,
        tools: {
          getWeather: weatherTool,
          getCurrentTime: timeTool,
        },
      });

      setResponse(text);
      setToolCalls(toolCalls.map(call => ({
        name: call.toolName,
        args: call.args,
        result: call.result,
      })));
    } catch (error) {
      setResponse('å‡ºé”™ï¼š' + error.message);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div style={{ padding: '20px', maxWidth: '800px', margin: '0 auto' }}>
      <h1>ğŸ¤– AIåŠ©æ‰‹ï¼ˆå¸¦å·¥å…·ï¼‰</h1>
      <p>å¯ä»¥æŸ¥è¯¢å¤©æ°”ã€æ—¶é—´ç­‰ä¿¡æ¯</p>

      <div style={{ marginBottom: '20px' }}>
        <textarea
          value={query}
          onChange={(e) => setQuery(e.target.value)}
          placeholder="è¯•è¯•é—®ï¼šåŒ—äº¬å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿç°åœ¨å‡ ç‚¹äº†ï¼Ÿ"
          style={{ width: '100%', height: '80px' }}
        />
        <button
          onClick={askAI}
          disabled={loading || !query}
          style={{ marginTop: '10px', padding: '10px 20px' }}
        >
          {loading ? 'æ€è€ƒä¸­...' : 'æé—®'}
        </button>
      </div>

      {toolCalls.length > 0 && (
        <div style={{ marginBottom: '20px' }}>
          <h3>ğŸ”§ å·¥å…·è°ƒç”¨è®°å½•ï¼š</h3>
          {toolCalls.map((call, index) => (
            <div key={index} style={{
              backgroundColor: '#f0f8ff',
              padding: '10px',
              marginBottom: '10px',
              borderRadius: '5px',
              fontSize: '14px'
            }}>
              <strong>å·¥å…·ï¼š</strong> {call.name} |
              <strong> å‚æ•°ï¼š</strong> {JSON.stringify(call.args)} |
              <strong> ç»“æœï¼š</strong> {JSON.stringify(call.result)}
            </div>
          ))}
        </div>
      )}

      {response && (
        <div style={{
          padding: '15px',
          backgroundColor: '#f5f5f5',
          borderRadius: '8px'
        }}>
          <h3>AIå›ç­”ï¼š</h3>
          <p>{response}</p>
        </div>
      )}
    </div>
  );
}
```

---

---

## ğŸª è¿›é˜¶åŠŸèƒ½ï¼šMCPå·¥å…·é›†æˆï¼ˆ15åˆ†é’Ÿï¼‰

### MCPï¼ˆModel Context Protocolï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ

MCP æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„åè®®ï¼Œè®©AIæ¨¡å‹èƒ½å¤Ÿå®‰å…¨åœ°è®¿é—®å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºã€‚**AI SDK å·²ç»å†…ç½®æ”¯æŒï¼**

### å¿«é€Ÿå¼€å§‹MCPå·¥å…·

#### 1. å®‰è£…é¢å¤–ä¾èµ–
```bash
# MCPæ”¯æŒéœ€è¦é¢å¤–çš„åŒ…
npm install @modelcontextprotocol/sdk zod
```

#### 2. åˆ›å»ºç®€å•çš„MCPæœåŠ¡å™¨
```ts
// mcp-server.ts - ç®€å•çš„MCPæœåŠ¡å™¨
import { McpServer } from '@modelcontextprotocol/sdk/server/mcp.js';
import { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';
import { z } from 'zod';

const server = new McpServer({
  name: 'pokemon-tools',
  version: '1.0.0',
});

// æ·»åŠ å·¥å…·
server.tool(
  'get-pokemon',
  'è·å–å®å¯æ¢¦ä¿¡æ¯',
  {
    name: z.string().describe('å®å¯æ¢¦åç§°'),
  },
  async ({ name }) => {
    // æ¨¡æ‹ŸAPIè°ƒç”¨
    return {
      content: [
        {
          type: 'text',
          text: `æ‰¾åˆ°äº†å®å¯æ¢¦ ${name}ï¼`,
        },
      ],
    };
  },
);

// å¯åŠ¨æœåŠ¡å™¨
async function main() {
  const transport = new StdioServerTransport();
  await server.connect(transport);
  console.log('MCP æœåŠ¡å™¨å·²å¯åŠ¨');
}

main().catch(console.error);
```

#### 3. åœ¨AIåº”ç”¨ä¸­ä½¿ç”¨MCPå·¥å…·
```tsx
// app/page.tsx
'use client';

import { useState } from 'react';
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';
import { experimental_createMCPClient } from '@ai-sdk/mcp';
import { Experimental_StdioMCPTransport } from '@ai-sdk/mcp';
import { z } from 'zod';

export default function MCPDemo() {
  const [prompt, setPrompt] = useState('');
  const [result, setResult] = useState('');
  const [loading, setLoading] = useState(false);

  const callAI = async () => {
    setLoading(true);

    try {
      // åˆ›å»ºMCPå®¢æˆ·ç«¯è¿æ¥åˆ°æœ¬åœ°æœåŠ¡å™¨
      const mcpClient = await experimental_createMCPClient({
        transport: new Experimental_StdioMCPTransport({
          command: 'node',
          args: ['mcp-server.ts'],
        }),
      });

      // è·å–MCPå·¥å…·
      const tools = await mcpClient.tools({
        schemas: {
          'get-pokemon': {
            inputSchema: z.object({
              name: z.string().describe('è¦æŸ¥è¯¢çš„å®å¯æ¢¦åç§°'),
            }),
          },
        },
      });

      // ä½¿ç”¨å·¥å…·è°ƒç”¨AIæ¨¡å‹
      const { text } = await generateText({
        model: openai('gpt-4o-mini'),
        prompt: prompt,
        tools,
      });

      setResult(text);

      // å…³é—­å®¢æˆ·ç«¯
      await mcpClient.close();
    } catch (error) {
      setResult('é”™è¯¯: ' + error.message);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div style={{ padding: '20px', maxWidth: '600px', margin: '0 auto' }}>
      <h1>ğŸ”§ MCP å·¥å…·æ¼”ç¤º</h1>
      <p>æŸ¥è¯¢å®å¯æ¢¦ä¿¡æ¯</p>

      <textarea
        value={prompt}
        onChange={(e) => setPrompt(e.target.value)}
        placeholder="ä¾‹å¦‚ï¼šå¸®æˆ‘æ‰¾ä¸€ä¸‹çš®å¡ä¸˜çš„ä¿¡æ¯"
        style={{
          width: '100%',
          height: '80px',
          marginBottom: '10px',
          padding: '10px',
          border: '1px solid #ddd',
          borderRadius: '4px'
        }}
      />

      <button
        onClick={callAI}
        disabled={loading || !prompt}
        style={{
          padding: '10px 20px',
          backgroundColor: '#007bff',
          color: 'white',
          border: 'none',
          borderRadius: '4px',
          cursor: 'pointer'
        }}
      >
        {loading ? 'æŸ¥è¯¢ä¸­...' : 'æŸ¥è¯¢'}
      </button>

      {result && (
        <div style={{
          marginTop: '20px',
          padding: '15px',
          backgroundColor: '#f8f9fa',
          borderRadius: '8px',
          border: '1px solid #e9ecef'
        }}>
          <h3>ğŸ¯ æŸ¥è¯¢ç»“æœï¼š</h3>
          <p>{result}</p>
        </div>
      )}
    </div>
  );
}
```

#### 4. é«˜çº§MCPç”¨æ³•ï¼šHTTPä¼ è¾“
```tsx
// è¿æ¥åˆ°è¿œç¨‹MCPæœåŠ¡å™¨
import { experimental_createMCPClient } from '@ai-sdk/mcp';
import { StreamableHTTPClientTransport } from '@modelcontextprotocol/sdk/client/streamableHttp';

const mcpClient = await experimental_createMCPClient({
  transport: new StreamableHTTPClientTransport(
    new URL('https://your-mcp-server.com/mcp'), {
      sessionId: 'my-session',
    }
  ),
});

// ä½¿ç”¨å·¥å…·
const tools = await mcpClient.tools();
const { text } = await generateText({
  model: openai('gpt-4o'),
  tools,
  prompt: 'ä½¿ç”¨å¯ç”¨çš„å·¥å…·å¸®æˆ‘å¤„ç†æ•°æ®',
});
```

### MCPå·¥å…·çš„ä¼˜åŠ¿

âœ… **æ ‡å‡†åŒ–æ¥å£** - ä¸€æ¬¡ç¼–å†™ï¼Œå¤šå¤„ä½¿ç”¨
âœ… **ç±»å‹å®‰å…¨** - å®Œæ•´çš„TypeScriptæ”¯æŒ
âœ… **å®æ—¶æ›´æ–°** - å·¥å…·å˜æ›´è‡ªåŠ¨åŒæ­¥
âœ… **å¤šä¼ è¾“æ”¯æŒ** - HTTPã€SSEã€STDIO
âœ… **çµæ´»é…ç½®** - æ”¯æŒOAuthã€è‡ªå®šä¹‰å¤´éƒ¨

### MCP vs æ™®é€šå·¥å…·è°ƒç”¨

| ç‰¹æ€§ | æ™®é€šå·¥å…·è°ƒç”¨ | MCPå·¥å…· |
|------|-------------|----------|
| **å·¥å…·å‘ç°** | æ‰‹åŠ¨å®šä¹‰ | è‡ªåŠ¨å‘ç° |
| **ç‰ˆæœ¬ç®¡ç†** | éœ€è¦æ‰‹åŠ¨æ›´æ–° | è‡ªåŠ¨åŒæ­¥ |
| **æ ‡å‡†åŒ–** | å„è‡ªå®šä¹‰ | MCPæ ‡å‡† |
| **å¤šæœåŠ¡å™¨** | å¤æ‚é›†æˆ | ç®€å•é…ç½® |
| **å®æ—¶æ€§** | éœ€è¦è½®è¯¢ | äº‹ä»¶é©±åŠ¨ |

---

## ğŸ¯ å®ç”¨æ¨¡æ¿åº“

### 1. ç®€å•æ–‡æœ¬è¡¥å…¨
```tsx
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

const SimpleCompletion = ({ prompt }: { prompt: string }) => {
  const [result, setResult] = useState('');

  useEffect(() => {
    const generate = async () => {
      const { text } = await generateText({
        model: openai('gpt-4o-mini'),
        prompt: `è¯·ç®€æ´å›ç­”ï¼š${prompt}`,
        maxTokens: 100,
      });
      setResult(text);
    };
    generate();
  }, [prompt]);

  return <div>{result}</div>;
};
```

### 2. æµå¼æ–‡æœ¬ç”Ÿæˆ
```tsx
import { streamText } from 'ai';
import { openai } from '@ai-sdk/openai';

const StreamingCompletion = () => {
  const [text, setText] = useState('');
  const [isStreaming, setIsStreaming] = useState(false);

  const startStream = async (prompt: string) => {
    setIsStreaming(true);
    setText('');

    const { textStream } = await streamText({
      model: openai('gpt-4o-mini'),
      prompt,
    });

    for await (const textPart of textStream) {
      setText(prev => prev + textPart);
    }
    setIsStreaming(false);
  };

  return (
    <div>
      <div style={{ minHeight: '100px', border: '1px solid #ddd', padding: '10px' }}>
        {text || (isStreaming ? 'æ­£åœ¨ç”Ÿæˆ...' : 'ç­‰å¾…è¾“å…¥')}
      </div>
      <button onClick={() => startStream('è®²ä¸€ä¸ªæœ‰è¶£çš„æ•…äº‹')}>
        å¼€å§‹ç”Ÿæˆæ•…äº‹
      </button>
    </div>
  );
};
```

### 3. æ™ºèƒ½æ–‡æ¡£æ€»ç»“
```tsx
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

const DocumentSummarizer = () => {
  const [document, setDocument] = useState('');
  const [summary, setSummary] = useState('');
  const [loading, setLoading] = useState(false);

  const summarize = async () => {
    if (!document.trim()) return;

    setLoading(true);
    try {
      const { text } = await generateText({
        model: openai('gpt-4o-mini'),
        prompt: `è¯·ä¸ºä»¥ä¸‹æ–‡æ¡£ç”Ÿæˆç®€æ´çš„æ€»ç»“ï¼ˆ200å­—ä»¥å†…ï¼‰ï¼š\n\n${document}`,
        maxTokens: 300,
      });
      setSummary(text);
    } catch (error) {
      setSummary('æ€»ç»“å¤±è´¥ï¼š' + error.message);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div>
      <textarea
        value={document}
        onChange={(e) => setDocument(e.target.value)}
        placeholder="ç²˜è´´éœ€è¦æ€»ç»“çš„æ–‡æ¡£å†…å®¹..."
        style={{ width: '100%', height: '200px' }}
      />
      <button onClick={summarize} disabled={loading || !document}>
        {loading ? 'æ€»ç»“ä¸­...' : 'ç”Ÿæˆæ€»ç»“'}
      </button>
      {summary && (
        <div style={{
          marginTop: '20px',
          padding: '15px',
          backgroundColor: '#e8f5e8',
          borderRadius: '8px'
        }}>
          <h3>ğŸ“„ æ–‡æ¡£æ€»ç»“ï¼š</h3>
          <p>{summary}</p>
        </div>
      )}
    </div>
  );
};
```

---

## ğŸ’¡ å¿«é€Ÿéƒ¨ç½²

### 1. Verceléƒ¨ç½²ï¼ˆæ¨èï¼‰
```bash
# å®‰è£…Vercel CLI
npm i -g vercel

# éƒ¨ç½²
vercel

# è®¾ç½®ç¯å¢ƒå˜é‡
vercel env add OPENAI_API_KEY
```

### 2. å…¶ä»–å¹³å°
```bash
# æ„å»ºé¡¹ç›®
npm run build

# éƒ¨ç½²åˆ°ä¸åŒå¹³å°
# Netlify: npm run deploy æˆ–æ‹–æ‹½æ„å»ºæ–‡ä»¶å¤¹åˆ°Netlify
# Railway: è¿æ¥GitHubä»“åº“è‡ªåŠ¨éƒ¨ç½²
# Cloudflare Pages: è¿æ¥GitHubä»“åº“
```

---

## âš ï¸ å¸¸è§é—®é¢˜è§£å†³

### 1. API Keyé”™è¯¯
```javascript
// æ£€æŸ¥API Keyæ˜¯å¦æ­£ç¡®è®¾ç½®
console.log('API Keyå­˜åœ¨:', !!process.env.OPENAI_API_KEY);

// æˆ–è€…åœ¨ä»£ç ä¸­ç›´æ¥æ£€æŸ¥
if (!process.env.OPENAI_API_KEY) {
  throw new Error('è¯·è®¾ç½® OPENAI_API_KEY ç¯å¢ƒå˜é‡');
}
```

### 2. ç½‘ç»œé—®é¢˜
```typescript
// æ·»åŠ é‡è¯•æœºåˆ¶
const generateWithRetry = async (prompt: string, maxRetries = 3) => {
  for (let i = 0; i < maxRetries; i++) {
    try {
      const { text } = await generateText({
        model: openai('gpt-4o-mini'),
        prompt,
      });
      return text;
    } catch (error) {
      if (i === maxRetries - 1) throw error;
      console.log(`é‡è¯•ç¬¬${i + 1}æ¬¡...`);
      await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
    }
  }
};
```

### 3. Tokené™åˆ¶
```typescript
// è‡ªåŠ¨æˆªæ–­é•¿æ–‡æœ¬
const truncateText = (text: string, maxTokens: number = 3000) => {
  // ç²—ç•¥ä¼°ç®—ï¼š1ä¸ªTokençº¦ç­‰äº4ä¸ªå­—ç¬¦
  const maxChars = maxTokens * 4;
  return text.length > maxChars ? text.slice(0, maxChars) + '...' : text;
};
```

---

## ğŸš€ ä¸‹ä¸€æ­¥å­¦ä¹ 

### 1. é«˜çº§åŠŸèƒ½
- **å¤šæ¨¡æ€**: å›¾åƒè¾“å…¥å’Œç”Ÿæˆ
- **æµå¼UI**: åŠ¨æ€ç”Ÿæˆç”¨æˆ·ç•Œé¢
- **RAG**: æ£€ç´¢å¢å¼ºç”Ÿæˆ
- **Agent**: è‡ªä¸»AIä»£ç†

### 2. ç”Ÿäº§ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: å‡å°‘APIè°ƒç”¨æˆæœ¬
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•
- **ç›‘æ§**: AIè°ƒç”¨æˆæœ¬å’Œæ€§èƒ½ç›‘æ§
- **å®‰å…¨**: å†…å®¹è¿‡æ»¤å’Œç”¨æˆ·æƒé™æ§åˆ¶

### 3. ç”Ÿæ€é›†æˆ
- **Vercel AI Gateway**: æµé‡ç®¡ç†å’Œç›‘æ§
- **LangChain**: å¤æ‚å·¥ä½œæµé›†æˆ
- **å‘é‡æ•°æ®åº“**: RAGå’Œè¯­ä¹‰æœç´¢

---

## ğŸ“š æœ‰ç”¨èµ„æº

### å®˜æ–¹èµ„æº
- **AI SDKæ–‡æ¡£**: https://ai-sdk.dev/docs
- **Playground**: https://ai-sdk.dev/playground
- **Cookbook**: https://ai-sdk.dev/docs/cookbook
- **GitHub**: https://github.com/vercel/ai

### ç¤¾åŒºèµ„æº
- **Discordç¤¾åŒº**: ä¸å…¶ä»–å¼€å‘è€…äº¤æµ
- **GitHub Discussions**: æŠ€æœ¯é—®é¢˜è®¨è®º
- **YouTubeæ•™ç¨‹**: å®æˆ˜æ¼”ç¤ºè§†é¢‘

### æ¨¡æ¿é¡¹ç›®
- **Chatbotæ¨¡æ¿**: https://github.com/vercel/ai-chatbot
- **RAGç¤ºä¾‹**: https://github.com/vercel/ai-rag-chatbot
- **å¤šæ¨¡æ€**: https://github.com/vercel/ai-multimodal-chatbot

---

## ğŸ¯ æ€»ç»“

é€šè¿‡è¿™ä¸ªå¿«é€Ÿä¸Šæ‰‹æŒ‡å—ï¼Œä½ åº”è¯¥å·²ç»èƒ½å¤Ÿï¼š

âœ… **10åˆ†é’Ÿå†…æ­å»ºç¬¬ä¸€ä¸ªAIåº”ç”¨**
âœ… **æŒæ¡åŸºç¡€çš„æ–‡æœ¬ç”Ÿæˆå’ŒèŠå¤©åŠŸèƒ½**
âœ… **ç†è§£å·¥å…·è°ƒç”¨çš„æ¦‚å¿µå’Œç”¨æ³•**
âœ… **äº†è§£å¸¸è§çš„éƒ¨ç½²æ–¹å¼**

### å…³é”®è¦ç‚¹
1. **ä»ç®€å•å¼€å§‹**: å…ˆç”¨`generateText`ï¼Œå†å­¦ä¹ `useChat`
2. **é”™è¯¯å¤„ç†**: å§‹ç»ˆåŒ…å«try-catchå’ŒloadingçŠ¶æ€
3. **æˆæœ¬æ§åˆ¶**: ä½¿ç”¨gpt-4o-miniè¿›è¡Œå¼€å‘ï¼Œgpt-4oç”¨äºç”Ÿäº§
4. **ç”¨æˆ·ä½“éªŒ**: æ·»åŠ loadingçŠ¶æ€å’Œé”™è¯¯æç¤º
5. **å®‰å…¨æ€§**: ä¸è¦åœ¨å‰ç«¯æš´éœ²API Key

### ä¸‹ä¸€æ­¥
å°è¯•ä¿®æ”¹ç¤ºä¾‹ä»£ç ï¼Œåˆ›å»ºä½ è‡ªå·±çš„AIåº”ç”¨ï¼AI SDKçš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒè®©å¤æ‚çš„AIåŠŸèƒ½å˜å¾—ç®€å•æ˜“ç”¨ã€‚

---

ğŸ‰ **æ­å–œï¼ä½ å·²ç»æŒæ¡äº†AI SDKçš„åŸºç¡€ç”¨æ³•ï¼Œå¯ä»¥å¼€å§‹æ„å»ºè‡ªå·±çš„AIåº”ç”¨äº†ï¼**

---

*æ•™ç¨‹ç‰ˆæœ¬: AI SDK v5.0+*
*æœ€åæ›´æ–°: 2025-10-27*